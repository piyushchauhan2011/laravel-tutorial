# Postgres CTEs and Analytics

## Objectives

- Build analytics queries using PostgreSQL CTEs.
- Use window functions for ranking/trend analysis.
- Expose validated reporting endpoints for dashboards.

## Recommended Order

- Complete after API and queue lessons for realistic datasets.

## Lesson Sequence

1. Implement non-recursive CTE analytics query for aggregates.
2. Add one recursive CTE example (hierarchy or dependency graph).
3. Build API endpoint with params: from, to, group_by.
4. Add indexes and compare query plans with EXPLAIN ANALYZE.

## Standards

- Use Pest for unit and feature tests by default.
- Keep lesson code documented with concise rationale comments where needed.
- Record evidence of completion in CHECKLIST.md before moving on.
