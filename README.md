# Laravel Proficiency Workspace (6-8 Week Intensive)

This workspace is organized as multiple standalone lesson apps so you can learn Laravel from basics to advanced, with one shared local infrastructure strategy.

## Stack Choices

- Laravel: latest stable via `composer create-project laravel/laravel`
- PHP: local CLI + Composer
- Local infra: DDEV + shared PostgreSQL
- Frontend: Vue + Inertia
- Admin: Filament
- Auth/API: session auth + Sanctum token auth
- Testing: Pest + PHPUnit + Playwright
- Deployment capstone: Dockerized VPS + Nginx + FrankenPHP

## Workspace Layout

- `infra/` shared scripts and infrastructure docs
- `lessons/00-laravel-cli-foundations/`
- `lessons/01-crud-and-data-modeling/`
- `lessons/02-authn-authz-policies-roles/`
- `lessons/03-api-routes-sanctum-versioning/`
- `lessons/04-background-jobs-queues-workers/`
- `lessons/05-scheduler-and-custom-artisan-tasks/`
- `lessons/06-postgres-ctes-analytics/`
- `lessons/07-vue-inertia-advanced-ui/`
- `lessons/08-filament-admin-panel/`
- `lessons/09-testing-unit-integration-e2e/`
- `lessons/10-deployment-frankenphp-vps/`
- `lessons/11-capstone-production-style-app/`

Each lesson folder includes:

- `README.md`: objectives and implementation notes
- `TASKS.md`: step-by-step exercises
- `CHECKLIST.md`: acceptance criteria
- `app/`: Laravel app directory (generated by script)

## Quick Start

1. Verify tools:
   - `bash infra/scripts/verify-toolchain.sh`
2. Start shared local infra:
   - `ddev start`
3. Create all lesson apps:
   - `bash infra/scripts/init-all-lessons.sh`
   - If you want structure only first: `bash infra/scripts/init-all-lessons.sh --skip-composer`
4. Create PostgreSQL databases for each lesson app:
   - `bash infra/scripts/provision-databases.sh`

When running Laravel commands, prefer `ddev exec` so apps use `DB_HOST=db` and `DB_PORT=5432`.

If app folders were initially created as placeholders, rerun `init-all-lessons.sh` without
`--skip-composer`. The script will replace placeholders with real Laravel apps automatically.

5. Follow guided first run:
   - `ONBOARDING.md`

## Running Lessons In Browser

The DDEV project serves only one docroot at a time. To run lesson 00 with clean URLs (`/`, `/health`, `/notes`):

1. Switch docroot:
   - `ddev config --docroot=lessons/00-laravel-cli-foundations/app/public --project-type=php --auto`
   - `ddev restart`
2. Open:
   - `http://laravel-tutorial.ddev.site/`
   - `http://laravel-tutorial.ddev.site/health`
   - `http://laravel-tutorial.ddev.site/notes`

If you see `403 Forbidden` or nginx `404` at the project root, your current docroot likely does not match the lesson app you are trying to view.

## Git Checkpoint Convention

Use checkpoint tags while progressing:

- `lesson-00-start`, `lesson-00-done`
- `lesson-01-start`, `lesson-01-done`
- ...
- `lesson-11-start`, `lesson-11-done`

## Shared API Contract (for API lessons)

- Route prefix: `/api/v1/*`
- Protected routes: Sanctum bearer token auth
- Success envelope:

```json
{
  "data": {},
  "meta": {}
}
```

- Error envelope:

```json
{
  "error": {
    "code": "string_code",
    "message": "Human readable",
    "details": {}
  }
}
```

## Observability Baseline

Every app should expose:

- consistent structured logging strategy
- queue health command
- scheduler health command
- simple `/health` endpoint for deployment lessons/capstone

## Notes

- This workspace is designed for local iteration first.
- The scripts assume your machine has network access to fetch Composer packages when generating apps.
